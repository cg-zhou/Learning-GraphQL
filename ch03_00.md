## GraphQL查询语言

在GraphQL开源的45年前，IBM员工 Edgar M. Codd 发布了一篇内容相当简短，然而标题很长的论文：《大型共享数据库的数据关系模型》。论文的标题并不时髦，但它包含了一些强大的想法。它勾勒出一个使用表来存储和操作数据的模型。很快，IBM开始研究一种关系型数据库，它可以使用结构化英文查询语言（Structured English Query Language/SEQUEL）查询数据，后来，它被称作SQL。  
  
SQL或者说结构化查询语言，是一种特定域的语言，用来访问、管理和操作数据库中的数据。SQL引入了通过一条命令来操作记录的概念。也让通过任何键值（而不仅仅是ID）访问任何数据成为可能。  
  
SQL中可以运行的命令十分精简：SELECT、INSERT、UPDATE和DELETE。这就是所有你可以对数据进行的操作。通过SQL，我们写一条查询语句，就可以取出数据库中的多个数据表中互相关联的数据。  
  
这个想法——即数据只能被增删改查——继续发展出了表述型状态传输（REST）。REST要求我们根据四种基本数据操作使用不同的HTTP方法：GET、POST、PUT和DELETE。然而，指定要使用REST读取或修改的数据类型的唯一方式是通过终端URL，而不是实际的查询语言。  
  
GraphQL采用了这些最初被开发用于查询数据库的思路，并在互联网上应用他们。一个GraphQL查询可以返回互相关联的数据。就像SQL一样，你可以用GraphQL来改变或删除数据。毕竟，SQL和GraphQL中的QL是一个意思：查询语言（Query Language）。  
  
虽然都是查询语言，GraphQL和SQL完全不同。他们适用于不同的环境。SQL适用于数据库，GraphQL适用于API。SQL数据在数据表中存储，GraphQL数据可能存储在任何地方：一个数据库、多个数据库、文件系统、REST API、WebSockets甚至是其它GraphQL API。SQL是一种数据库的查询语言。GraphQL是一种互联网的查询语言。  

GraphQL和SQL语法也完全不同。不同于SELECT，GraphQL使用Query来请求数据。这个操作是我们使用GraphQL的核心。不同于INSERT、UPDATE或DELETE，GraphQL把这些改变数据的操作转换成了一种类型：Mutation。因为GraphQL构建用于互联网，它包括一种Subscription类型，可以在通过socket监听数据变化时使用。SQL中没有什么像subscription。SQL就像孙辈和祖父长得不像，但我们仍知道他们有关联，因为他们的姓一样（QL）。  

GraphQL是一种标准化查询语言。 使用何种编程语言无关紧要：GraphQL查询是GraphQL查询。 查询语法是一个看起来相同的字符串，无论项目是使用JavaScript，Java，Haskell还是其他任何什么。
查询只是在POST请求主体中发送到GraphQL终端的字符串。 以下是GraphQL查询，一个用GraphQL查询语言编写的字符串：

```javascript
{
  allLifts {
    name
  }
}
```

你可以使用curl发送这个查询到GraphQL终端：

```javascript
curl 'http://snowtooth.herokuapp.com/'
-H 'Content-Type: application/json'
--data '{"query":"{ allLifts {name }}"}'
```


| :point_left: [上一节](/ch02_04.md) | [下一节](/ch03_01.md) :point_right: |
| - | - |
