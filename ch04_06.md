## 返回类型

我们模式中的所有字段都返回了我们的主要类型，用户和照片。但有时除了实际的有效负载数据之外，我们还需要返回有关查询和突变的元信息。例如，当用户登录并通过身份验证时，除了用户负载之外，我们还需要返回一个令牌。

要使用 GitHub OAuth 登录，我们必须从 GitHub 获取 OAuth 代码。我们在[“GitHub 授权”](/ch07_00.md)中讨论了设置自己的 GitHub OAuth 帐户和获取 GitHub 代码。现在，假设您有一个有效的 GitHub 代码，您可以将其发送到 githubAuth 变更以登录用户：

``` graphql
type AuthPayload {
  user: User!
  token: String!
}
type Mutation {
  ...
  githubAuth(code: String!): AuthPayload!
}
```

通过向 githubAuth 突变发送有效的 GitHub 代码来对用户进行身份验证。如果成功，我们将返回一个自定义对象类型，其中包含有关已成功登录的用户的信息以及可用于授权进一步查询和更改（包括 postPhoto 更改）的令牌。

您可以在我们需要的不仅仅是简单有效负载数据的任何字段上使用自定义返回类型。也许我们想知道查询传递响应需要多长时间，或者除了查询有效负载数据之外，在特定响应中找到了多少结果。您可以使用自定义返回类型来处理所有这些。

至此，我们已经介绍了您在创建 GraphQL 模式时可用的所有类型。我们甚至花了一些时间来讨论可以帮助您改进模式设计的技术。但是我们需要引入最后一种根对象类型——订阅类型。

| :point_left: [上一节](/ch04_05.md) | [下一节](/ch04_07.md) :point_right: |
| - | - |
